[TOC]

# Vue 原理相关面试题

## 请说一下对响应式数据的理解

> **请说一下 Vue中响应式数据的理解?**  
>
> ```js
> # 参考答案
> #	核心点考察的是: 数组和对象类型值变化时如何劫持到.  
>   对象内部通过 defineReactive 方法, 使用了 Object.defineProperty 将属性进行劫持(只会劫持已经存在的属性),  数组则是通过重写数组的方法来实现. 这里在回答时可以带出一些相关知识点儿.(比如多层对象是通过递归来实现劫持, 顺带提出 Vue3 中是使用的 proxy 来实现响应式数据处理的)
> 
> #	核心点儿答出来也可以在进行补充回答,内部依赖收集是怎么样做到的.
>   每个属性都拥有指自己的 dep 属性, 存放他所依赖的 watcher, 当属性变化后, 会通知自己的watcher 去更新.(其实后面会讲到, 每个对象类型自己本身也拥有 一个 dep 属性, 这个在 $set 面试体重再进行讲解)
> 
> # 这里可以引出性能优化相关内容
> 	1. 对象层级过深,性能就会差. 2. 不需要响应式的数据内容, 可以不要放在 data中, 3. Object.freeze() 可以冻结数据
> ```
>
> 

## Vue 中如何检测数组变化?

> **==Vue中如何检测数组的变化的?==**   
>
> ```js
> # 参考答案:
> # 核心点考察的是: 
> 	数组考虑性能原因, 没有用 defineProperty 对数组的每一项进行拦截, 而是选择了重写数组的(push,shift,pop,splice,unshift,sort,reverse) 方法
> 
> # 核心点答出来了也可以再进行补充回答, 
> 	在 Vue中修改数组的索引和长度是无法监控到的. 需要通过以上7 种 变异方法修改数组才会触发数组对应的 watcher 更新. 数组中如果是对象数据类型, 也会进行递归劫持.
> 
> # 引发出的问题, 那如果想要更改索引 更新数组怎么办?
> 	可以通过 Vue.$set() 来进行处理  => 核心内部是用的 splice 方法
> ```
>
> 